<div class="container">
  <h1>Web Video Downloader (yt-dlp.exe)</h1>

  <div class="jumbotron">
    <div class="form-group">
      <label for="url">Video URL:</label>
      <input type="text"
             id="url"
             class="form-control"
             [(ngModel)]="url"
             placeholder="Enter YouTube URL"
             (change)="getTitle()"
             [disabled]="isDownloading">
    </div>

    <label for="options">Custom Options (one per line):</label>
    <textarea id="options"
              class="form-control viewOnly"
              rows="6">{{ options }}</textarea>

    <div class="form-group">
      <label class="checkbox-container">
        <input type="checkbox"
               [(ngModel)]="audioOnly"
               [disabled]="isDownloading">
        <span class="checkbox-label">Audio Only (MP3)</span>
      </label>
    </div>
    <div class="form-group">
      <label class="checkbox-container">
        <input type="checkbox"
               [(ngModel)]="subTitle"
               [disabled]="isDownloading">
        <span class="checkbox-label">Include Sub-Title</span>
      </label>
    </div>

    <div class="mt-3 mb-3">
      <div class="input-group mb-0">
        <span class="input-group-text">Output To Server medias</span>
        <span class="input-group-text"> <i class="bi bi-folder-fill"></i> </span>
        <span class="input-group-text"> medias\</span>
        <input type="text" class="form-control" [(ngModel)]="outputFolder" aria-label="output" aria-describedby="output" required>
      </div>
      <small id="telephoneHelp" class="form-text text-muted">Directory in Medias such as videos\test..., movies\test..., musics\test...</small>
    </div>
    <div class="button-group mb-3">
      <button class="btn btn-primary"
              (click)="startDownload()"
              [disabled]="!url || isDownloading">
        Download
      </button>
    </div>

    <table class="table table-striped" width="80%">
      <caption class="m-3" style="caption-side: top">
        <label>Download Progress:</label>
        <div class="progress">
          <div class="progress-bar progress-bar-orange" role="progressbar" [style.width]="progress + '%'" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
      </caption>
      <thead>
        <tr>
          <th width="5%">Size</th>
          <th width="5%">Speed</th>
          <th width="5%">ETA</th>
          <th width="75%">File</th>
          <th width="10%">#-Frags</th>

        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{ ReceiveTotalSize || "-" }}  </td>
          <td>{{ ReceiveSpeed || "-"}}</td>
          <td>{{ ReceiveETA || "-"}}</td>
          <td>{{ ReceiveFileName || "-"}}</td>
          <td>{{ TotalFragments || "-"}}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="5">Status:{{ ReceiveState || "-"}}</td>
        </tr>
        <tr>
          <td colspan="5">Error:{{ error || "-"}}</td>
        </tr>
        <tr>
          <td colspan="5">Output:{{ finish || "-"}}</td>
        </tr>
      </tfoot>
    </table>
    <table class="table table-striped text-center" width="50%">
      <tbody>
        <tr *ngFor="let item of chapter ; let i = index">
          <td>{{ item }}  </td>
        </tr>
      </tbody>
    </table>
    <label for="output">Output Text Processing:</label>
    <section>
      <p *ngFor="let line of output ; let i = index">
        {{ line }}
      </p>
    </section>
  </div>
</div>

